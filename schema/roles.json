{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://dhruvkb.github.io/reschume/schema/roles.json",

  "title": "Roles",
  "description": "Represents a collection of organisations and roles perfomed at said organisations.",

  "type": "array",
  "items": { "$ref": "#/$defs/org" },

  "$defs": {
    "org": {
      "title": "Org",
      "description": "Represents an organisation that offers multiple roles.",

      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "shortName": { "type": "string" },
        "url": { "type": "string", "format": "uri" },
        "address": { "$ref": "/reschume/schema/base.json#/$defs/address" },

        "children": {
          "type": "array",
          "items": { "$ref": "#/$defs/role" }
        }
      },
      "required": ["id", "name"],

      "examples": [
        {
          "id": "creative_commons",
          "name": "Creative Commons",
          "shortName": "CC",
          "url": "https://creativecommons.org",
          "address": {
            "postBox": 1866,
            "city": "Mountain View",
            "state": "California",
            "countryCode": "US",
            "postCode": 94042
          },

          "children": [
            { "id": "project_maintainer", "name": "Project maintainer" },
            { "id": "gsoc_engineer", "name": "GSoC engineer" }
          ]
        }
      ]
    },
    "role": {
      "title": "Role",
      "description": "Represents a job performed at an organisation.",

      "type": "object",
      "properties": {
        "id": { "type": "string" },
        "name": { "type": "string" },
        "summary": { "type": "string" },
        "highlights": {
          "type": "array",
          "items": { "type": "string" }
        },
        "type": {
          "enum": [
            "foss-contributor",
            "part-timer",
            "full-timer",
            "intern",
            "contractor"
          ]
        },
        "location": {
          "enum": ["in-office", "hybrid", "remote"]
        },
        "period": { "$ref": "/reschume/schema/base.json#/$defs/period" }
      },
      "required": ["id", "name"],

      "examples": [
        {
          "id": "gsoc_engineer",
          "name": "GSoC engineer",
          "summary": "Developed Vocabulary, the design library of Creative Commons.",
          "highlights": [
            "Conceived, designed & developed Vocabulary from scratch.",
            "Initiated & supported Vocabulary integration with CC sites."
          ],
          "type": "foss-contributor",
          "location": "remote",
          "period": {
            "start": [2019, 5],
            "end": [2019, 8]
          }
        }
      ]
    }
  }
}
